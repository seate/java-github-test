name: PR Test

on:
    pull_request:    # 또는 pull_request
        branches: [ main, develop ]
        types:   [ opened, synchronize, reopened ]

jobs:
    checkstyle:
        name: runner / checkstyle
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v4

            - name: Run checkstyle
              uses: dbelyaev/action-checkstyle@master
              with:
                  github_token: ${{ secrets.github_token }}
                  reporter: github-pr-review
                  fail_level: error
                  checkstyle_config: ./config/checkstyle/naver-checkstyle-rules.xml
                  properties_file: ./config/checkstyle/checkstyle.properties
                  workdir: './src'
                  reviewdog_flags: '-name=checkstyle -log-level debug -tee'
